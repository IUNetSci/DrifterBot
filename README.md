# Introduction

This repo contains the source code for our paper [Neutral Bots Reveal Political Bias on Social Media](https://arxiv.org/abs/2005.08141).

Social media platforms attempting to curb abuse and misinformation have been accused of political bias. We deploy neutral social bots (we call them drifters) on Twitter to probe biases that may emerge from interactions between user actions, platform mechanisms, and manipulation by inauthentic actors. 

## Repo Structure

+ **bot** contains the source code of the drifters. Use `python drifter_main.py <your bot screen_name>` to activate the bots.
+ **others** contains the code to initialize and clean up  the drifters.
+ **database** contains the script to create a PostgreSQL database for the analyses.
+ **data** contains the code and intermediate data files for the analyses.
  + [hashtag_political_alignment](/data/hashtag_political_alignment) has the implementation of hashtag embedding.
  + [GenerateDataFiles.ipynb](/data/GenerateDataFiles.ipynb) generates data files for our analyses.
+ **metric** contains the scripts to pre-processes the collected data for further analyses. Please use `metric_job.py` as an example. Some of the scripts depend on the results of [GenerateDataFiles.ipynb](/data/GenerateDataFiles.ipynb).
    + `analysis.py` and `metrics.py` compute the hashtag-based and url-based political valence score for each Tweet
    + `time_series_scores.py` computes the political valence changes across time for all bots
    + `generate_networks_for_each_bot.py` builds the ego networks for drifters and computes metrics for the echo chamber analyses.
+ **exps** contains scripts and notebooks to generate the plots for the paper.
    + [FinalPaperPlots.ipynb](/exps/FinalPaperPlots.ipynb) reads the output files generated by [GenerateDataFiles.ipynb](/data/GenerateDataFiles.ipynb) to produce the final figures.

## Dependency

1. python 3
2. [twurl](https://github.com/twitter/twurl) (modified).  Please authorize your bot Twitter account to this API.
We also need to modify twurl before use as https://github.com/twitter/twurl/issues/10
3. [chatterbot](https://chatterbot.readthedocs.io/en/stable/) (used in replymention action for bot activity).
4. [tweepy](https://www.tweepy.org/) (used in analysis code)
5. [psycopg2](https://pypi.org/project/psycopg2/)
6. [botometer](https://botometer.iuni.iu.edu/#!/api) (used in bot score analysis)

## Cite

Please cite our paper as:

```
@techreport{drifter2020,
  Author = {Wen Chen and Diogo Pacheco and Kai-Cheng Yang and Filippo Menczer},
  Institution = {arXiv},
  Number = {2005.08141},
  Title = {Neutral Bots Reveal Political Bias on Social Media},
  Type = {Preprint},
  Url = {https://arxiv.org/abs/2005.08141},
  Year = {2020}
}
```
